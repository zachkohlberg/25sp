<!DOCTYPE HTML>
<html lang="en" class="navy sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Project 4: Game GUI - SER120 Projects</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SER120 Projects</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="project-4-game-gui"><a class="header" href="#project-4-game-gui">Project 4: Game GUI</a></h1>
<p>Use Swing to create a graphical user interface (GUI) for the provided
<code>SnakeGame</code> class. The game code will be uploaded to OneDrive and linked at the
bottom of this page.</p>
<h2 id="in-class-project"><a class="header" href="#in-class-project">In-Class Project</a></h2>
<p>This is intended as an in-class project. We will have time to work on it during
most classes up until the deadline, and you should review your work with me
during class before submitting it on Blackboard.</p>
<h3 id="group-work"><a class="header" href="#group-work">Group Work</a></h3>
<p>You may work on this project with a partner under the following conditions:</p>
<ol>
<li>You inform me that you are working together during class or office hours by
<strong>Wednesday, 4/16</strong>.</li>
<li>Both you and your partner complete the majority of your work on the project
together during class.</li>
<li>You show me your completed work in class or office hours before submitting.</li>
</ol>
<h2 id="primary-topics"><a class="header" href="#primary-topics">Primary Topics</a></h2>
<ul>
<li>Swing/AWT
<ul>
<li>Timer</li>
<li>KeyListener</li>
<li>Graphics</li>
</ul>
</li>
<li>APIs</li>
<li>Design patterns</li>
</ul>
<h2 id="tasks"><a class="header" href="#tasks">Tasks</a></h2>
<h3 id="task-1-program-a-gui"><a class="header" href="#task-1-program-a-gui">Task 1: Program a GUI</a></h3>
<p>Your only task for this project is to create a swing app that serves as a
graphical user interface for the provided <code>SnakeGame</code> class. Your program must
include the following features:</p>
<ol>
<li>Buttons or keyboard shortcuts for the following functions:
<ul>
<li>Start a new game</li>
<li>Pause/resume the game</li>
<li>Show help text (a popup or terminal output) with all keyboard controls</li>
</ul>
</li>
<li>Playable with either WASD or the arrow keys</li>
<li>Displays the score</li>
<li>Uses the included interfaces to customize how the game awards points and
spawns food for the snake (strategy pattern)</li>
</ol>
<h2 id="deliverables"><a class="header" href="#deliverables">Deliverables</a></h2>
<ul>
<li>All java files required for the GUI to run</li>
</ul>
<h2 id="submission"><a class="header" href="#submission">Submission</a></h2>
<p><strong>Before submitting this assignment, make sure you understand and abide by the
Academic Integrity policy in our syllabus. This is particularly important if you
received any assistance, made use of an LLM, or used resources that were not
provided in class.</strong></p>
<p>In order for the assignment to count as complete:</p>
<ul>
<li>Your program includes all of the features described in
<a href="#task-1-program-a-gui">Task 1</a></li>
<li>Your program is compatible with the starter code; you should not make any
changes to <code>SnakeGame</code> or any other classes I give you</li>
</ul>
<h2 id="documentation"><a class="header" href="#documentation">Documentation</a></h2>
<p>The starter code includes javadoc style comments which can be used by the
<code>javadoc</code> program to generate an API website. You can view the API
<a href="./project4/docs/index.html">here</a>.</p>
<h2 id="starter-code"><a class="header" href="#starter-code">Starter Code</a></h2>
<p>Below is all of the starter code for the assignment.</p>
<pre><code class="language-java">/**
 * Immutable point class.
 *
 * @author Zach Kohlberg
 */
public final record Point(int x, int y) {
    @Override
    public boolean equals(Object other) {
        if (other instanceof Point p) {
            return p.x() == x() &amp;&amp; p.y() == y();
        }
        return false;
    }
}
</code></pre>
<pre><code class="language-java">/**
 * Defines a spawning algorithm for creating food pieces at set intervals.
 *
 * @author Zach Kohlberg
 */

public interface SpawningAlgorithm {
    /**
     * This method will be called every game tick. The game will use the return
     * value to determine where to spawn new food.
     *
     * @param empty     all unoccupied points at which the game could spawn food
     * @param timeAlive number of updates since the game began
     * @return an array of points at which the game will attempt to spawn food
     */
    Point[] update(Point[] empty, int timeAlive);
}
</code></pre>
<pre><code class="language-java">/**
 * Defines a scoring algorithm for awarding points at set intervals.
 *
 * @author Zach Kohlberg
 */

public interface ScoringAlgorithm {
    /**
     * This method will be called every game update and can add points to the
     * player's score.
     *
     * @param snakeSize current size of the snake
     * @param timeAlive number of updates since the game began
     * @return points to add to the score
     */
    int update(int snakeSize, int timeAlive);

    /**
     * This method will be called at the end of the game and can add points to
     * the player's score.
     *
     * @param snakeSize current size of the snake
     * @param timeAlive number of updates since the game began
     * @return points to add to the score
     */
    int gameOver(int snakeSize, int timeAlive);
}
</code></pre>
<pre><code class="language-java">import java.util.ArrayList;

/**
 * Logic for a simple snake game. Needs a GUI to be playable, but that's your
 * job!
 *
 * Note that this class is declared {@code final}, which prevents you from
 * extending it. If you want to modify its behavior, then you'll need to use
 * provided interfaces and the strategy pattern discussed in class.
 *
 * @author Zach Kohlberg
 */
public final class SnakeGame {
    /**
     * Minimum width for the game grid.
     */
    public static final int MIN_WIDTH = 5;
    /**
     * Minimum height for the game grid.
     */
    public static final int MIN_HEIGHT = 5;
    /**
     * Constant representing the direction north (-y).
     */
    public static final int DIR_NORTH = 0;
    /**
     * Constant representing the direction east (+x).
     */
    public static final int DIR_EAST = 1;
    /**
     * Constant representing the direction south (+y).
     */
    public static final int DIR_SOUTH = 2;
    /**
     * Constant representing the direction west (-x).
     */
    public static final int DIR_WEST = 3;

    private int width, height;

    private ArrayList&lt;Point&gt; snake, food, empty;
    private int score, timeAlive;
    private boolean gameOver;

    private int direction;
    private SpawningAlgorithm spawningAlgorithm;
    private ScoringAlgorithm scoringAlgorithm;

    /**
     * Creates a game instance with the given width, height, and default algorithms.
     * 
     * @param width
     * @param height
     * @throws IllegalArgumentException if {@code width} or {@code height} are below
     *                                  the minimum
     */
    public SnakeGame(int width, int height) {
        this(
                width,
                height,
                new SpawningAlgorithm() {
                    @Override
                    public Point[] update(Point[] empty, int timeAlive) {
                        // returning an empty array spawns no food
                        return new Point[0];
                    }
                },
                new ScoringAlgorithm() {
                    @Override
                    public int update(int snakeSize, int timeAlive) {
                        // returning zero doesn't change the score
                        return 0;
                    }

                    @Override
                    public int gameOver(int snakeSize, int timeAlive) {
                        // returning zero doesn't change the score
                        return 0;
                    }
                });
    }

    /**
     * Creates a game instance with the given width, height, and algorithms.
     * 
     * @param width
     * @param height
     * @param spawningAlgorithm
     * @param scoringAlgorithm
     * @throws IllegalArgumentException if {@code width} or {@code height} are below
     *                                  the minimum
     * @throws NullPointerException     if either algorithm is {@code null}
     */
    public SnakeGame(int width, int height, SpawningAlgorithm spawningAlgorithm, ScoringAlgorithm scoringAlgorithm) {
        if (width &lt; MIN_WIDTH) {
            throw new IllegalArgumentException(
                    String.format("Width too small! Width: %s, Min Width: %s.", width, MIN_WIDTH));
        }

        if (height &lt; MIN_HEIGHT) {
            throw new IllegalArgumentException(
                    String.format("Height too small! Height: %s, Min Height: %s.", height, MIN_HEIGHT));
        }

        this.width = width;
        this.height = height;

        this.snake = new ArrayList&lt;&gt;();
        this.food = new ArrayList&lt;&gt;();
        this.empty = new ArrayList&lt;&gt;();

        // all spaces are initially empty
        for (int x = 0; x &lt; width; ++x) {
            for (int y = 0; y &lt; height; ++y) {
                empty.add(new Point(x, y));
            }
        }

        // snake begins with lengt 3, facing north, with its head in the center of the
        // grid
        int cx = width / 2;
        int cy = height / 2;
        snake.add(new Point(cx, cy));
        snake.add(new Point(cx, cy + 1));
        snake.add(new Point(cx, cy + 2));

        // the points occupied by the snake are no longer empty
        for (Point p : snake) {
            empty.remove(p);
        }

        this.score = 0;
        this.timeAlive = 0;
        this.gameOver = false;

        this.setDirection(DIR_NORTH);
        this.setSpawningAlgorithm(spawningAlgorithm);
        this.setScoringAlgorithm(scoringAlgorithm);
    }

    /**
     * Calling this method will move the snake. Depending on the scoring and
     * spawning algorithms, it may also spawn food and/or increase the score.
     *
     * How often you call this method determines the speed of the game. If you don't
     * know how often to call it, then try four times per second and adjust as
     * needed. You can also change the frequency over time to gradually speed up the
     * game and increase the difficulty.
     */
    public void update() {
        // does nothing if the game has ended
        if (gameOver) {
            return;
        }

        ++timeAlive;

        score += scoringAlgorithm.update(snake.size(), timeAlive);

        for (Point p : spawningAlgorithm.update(getEmpty(), timeAlive)) {
            spawnFood(p);
        }

        advanceSnake();
    }

    private Point nextPoint(Point p, int direction) {
        switch (direction) {
            case DIR_NORTH:
                // north = -y to be consistent with screen coordinates and make drawing easier
                return new Point(p.x(), p.y() - 1);
            case DIR_EAST:
                return new Point(p.x() + 1, p.y());
            case DIR_SOUTH:
                // south = +y to be consistent with screen coordinates and make drawing easier
                return new Point(p.x(), p.y() + 1);
            case DIR_WEST:
                return new Point(p.x() - 1, p.y());
            default:
                throw new IllegalArgumentException("Direction must be DIR_NORTH, DIR_EAST, DIR_SOUTH, or DIR_WEST.");
        }
    }

    private void spawnFood(Point p) {
        if (empty.contains(p)) {
            empty.remove(p);
            food.add(p);
        }
    }

    private void advanceSnake() {
        Point next = nextPoint(snake.get(0), direction);
        if (snake.contains(next) || !inBounds(next)) {
            // we lose if we run into the snake or the edge of the screen
            gameOver = true;
            score += scoringAlgorithm.gameOver(snake.size(), timeAlive);
        } else {
            if (food.contains(next)) {
                // eat food and snake grows to occupy the next point
                food.remove(next);
                snake.add(0, next);
            } else {
                // snake moves into the next point
                empty.remove(next);
                snake.add(0, next);
                // delete end of snake because it moved forward
                Point endOfSnake = snake.removeLast();
                empty.add(endOfSnake);
            }
        }
    }

    /**
     * @return whether the point is in the game's area
     */
    public boolean inBounds(Point p) {
        return p.x() &gt;= 0 &amp;&amp; p.x() &lt; width &amp;&amp; p.y() &gt;= 0 &amp;&amp; p.y() &lt; height;
    }

    /**
     * @return the width of the game's grid
     */
    public int getWidth() {
        return width;
    }

    /**
     * @return the height of the game's grid
     */
    public int getHeight() {
        return height;
    }

    /**
     * @return an array of points occupied by the snake
     */
    public Point[] getSnake() {
        return snake.toArray(new Point[0]);
    }

    /**
     * @return an array of points occupied by food
     */
    public Point[] getFood() {
        return food.toArray(new Point[0]);
    }

    /**
     * @return an array of points occupied by nothing
     */
    public Point[] getEmpty() {
        return empty.toArray(new Point[0]);
    }

    /**
     * @return the player's current score
     */
    public int getScore() {
        return score;
    }

    /**
     * @return whether the game has ended
     */
    public boolean isGameOver() {
        return gameOver;
    }

    /**
     * @return direction the snake is moving
     */
    public int getDirection() {
        return direction;
    }

    /**
     * Changes which direction the snake is moving. Use the DIR_* constants to
     * specify a direction.
     *
     * @param direction the snake's new direction
     * @throws IllegalArgumentException if {@code direction} is not a valid number
     */
    public void setDirection(int direction) {
        if (direction &lt; 0 || direction &gt; 3) {
            throw new IllegalArgumentException("Direction must be DIR_NORTH, DIR_EAST, DIR_SOUTH, or DIR_WEST.");
        }

        // The snake can't turn to face into its own neck
        Point head = snake.get(0);
        Point neck = snake.get(1);
        Point next = nextPoint(head, direction);
        if (next.equals(neck)) {
            return;
        }

        this.direction = direction;
    }

    /**
     * Changes the scoring algorithm used by the game.
     *
     * @param scoringAlgorithm
     * @throws NullPointerException if {@code scoringAlgorithm} is {@code null}
     */
    public void setScoringAlgorithm(ScoringAlgorithm scoringAlgorithm) {
        if (scoringAlgorithm == null) {
            throw new NullPointerException("Scoring algorithm cannot be null!");
        }
        this.scoringAlgorithm = scoringAlgorithm;
    }

    /**
     * Changes the spawning algorithm used by the game.
     *
     * @param spawningAlgorithm
     * @throws NullPointerException if {@code spawningAlgorithm} is {@code null}
     */
    public void setSpawningAlgorithm(SpawningAlgorithm spawningAlgorithm) {
        if (spawningAlgorithm == null) {
            throw new NullPointerException("Spawning algorithm cannot be null!");
        }
        this.spawningAlgorithm = spawningAlgorithm;
    }
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="project3.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="project3.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
